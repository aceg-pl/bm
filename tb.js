window.BMTools={};BMTools.pageSource=function(){var s=new XMLSerializer().serializeToString(document),e=s.replace(/&/g,'&amp;').replace(/%3C/g,'&lt;').replace(/%3E/g,'&gt;'),w=window.open();w.document.write('<!DOCTYPE html><html><head><title>Page Source</title><style>body{white-space:pre-wrap;font-family:monospace;padding:10px;}</style></head><body>'+e+'</body></html>');w.document.close();};BMTools.copyHTML=function(){try{var h=document.documentElement.outerHTML;if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(h);else{var t=document.createElement('textarea');t.value=h;t.style.position='fixed';t.style.left='-9999px';document.body.appendChild(t);t.select();document.execCommand('copy');document.body.removeChild(t);}}catch(e){};};BMTools.removeAds=function(){document.querySelectorAll('.ad,.ads,#popup,.overlay,.modal').forEach(e=>e.remove());alert('Ads and pop-ups removed');};BMTools.removeFixed=function(){var e=document.querySelectorAll('div,section,aside,video,iframe');for(var i=0;i<e.length;i++){var t=e[i],s=getComputedStyle(t);if(s.position=='fixed'||s.position=='sticky'||/video|player|overlay|ad/i.test(t.className))t.remove()}['body','html'].forEach(o=>{var n=document.querySelector(o);if(n){n.removeAttribute('style');n.className='';n.style.overflow='auto';n.style.position='static';n.style.height='auto'}});};BMTools.copyURLforShortcut=function(){try{const u=window.location.href;navigator.clipboard.writeText(u).then(()=>window.location.href='shortcuts://run-shortcut?name=Screenshot').catch(()=>prompt('Copy the URL manually and then run the Shortcut:',u))}catch(e){prompt('Copy the URL manually and then run the Shortcut:',window.location.href);}};BMTools.downloadImages=function(){if(window.JSZip)startDownload();else{var s=document.createElement('script');s.src='https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js';s.onload=startDownload;document.head.appendChild(s);}function startDownload(){let urls=[];document.querySelectorAll('img').forEach(img=>{if(img.srcset){let u=img.srcset.split(',').map(s=>s.trim().split(' ')[0]);urls.push(u[u.length-1]);}else if(img.dataset&&img.dataset.src)urls.push(img.dataset.src);else if(img.dataset&&img.dataset.lazySrc)urls.push(img.dataset.lazySrc);else if(img.src)urls.push(img.src);});urls=Array.from(new Set(urls)).filter(u=>u&&u.startsWith('http'));if(!urls.length){alert('No images found on this page.');return;}var zip=new JSZip(),c=0;urls.forEach((u,i)=>fetch(u).then(r=>{if(!r.ok)throw new Error();return r.blob()}).then(b=>{var ext=u.split('.').pop().split('?')[0].split('#')[0];zip.file(`image_${i+1}.${ext}`,b);c++;if(c===urls.length)zip.generateAsync({type:'blob'}).then(c=>{var a=document.createElement('a');a.href=URL.createObjectURL(c);a.download='images.zip';a.click();URL.revokeObjectURL(a.href);});}).catch(()=>{c++;if(c===urls.length)zip.generateAsync({type:'blob'}).then(c=>{var a=document.createElement('a');a.href=URL.createObjectURL(c);a.download='images.zip';a.click();URL.revokeObjectURL(a.href);});}));}};BMTools.darkMode=function(){const id='dark-mode-filter-style';let s=document.getElementById(id);const e=localStorage.getItem('dm')==='1';if(e){if(s)s.remove();localStorage.setItem('dm','0');}else{if(!s){s=document.createElement('style');s.id=id;s.textContent=`html{filter:invert(1) hue-rotate(180deg);background:#121212!important;}img,video,iframe,picture,svg,canvas{filter:invert(1) hue-rotate(180deg)!important;}`;document.head.appendChild(s);}localStorage.setItem('dm','1');}};BMTools.pageActions=function(){if(document.getElementById('bmMenu2'))document.getElementById('bmMenu2').remove();var actions={"Top":()=>window.scrollTo(0,0),"Bottom":()=>window.scrollTo(0,document.body.scrollHeight),"Zoom+":()=>document.body.style.zoom=(parseFloat(document.body.style.zoom)||1)+0.1,"Zoom-":()=>document.body.style.zoom=(parseFloat(document.body.style.zoom)||1)-0.1,"Clr Styles":()=>document.querySelectorAll('*').forEach(e=>e.removeAttribute('style')),"Clr Images":()=>document.querySelectorAll('img').forEach(e=>e.remove()),"Outline":()=>document.querySelectorAll('*').forEach(e=>e.style.outline='1px solid #'+Math.floor(Math.random()*16777215).toString(16)),"BG Gray":()=>document.body.style.background='#ccc',"Big Text":()=>document.body.style.fontSize='20px',"Small Text":()=>document.body.style.fontSize='10px',"Links only":()=>document.body.innerHTML=Array.from(document.links).map(a=>'<div>'+a.href+'</div>').join(''),"Imgs only":()=>document.body.innerHTML=Array.from(document.images).map(i=>'<div>'+i.src+'</div>').join(''),"No CSS":()=>Array.from(document.styleSheets).forEach(s=>s.disabled=true),"No JS":()=>Array.from(document.scripts).forEach(s=>s.remove()),"Forms?":()=>alert('Forms: '+document.forms.length),"Tables?":()=>alert('Tables: '+document.querySelectorAll('table').length),"Words?":()=>alert('Words: '+document.body.innerText.split(/\s+/).length),"Chars?":()=>alert('Chars: '+document.body.innerText.length),"Links?":()=>alert('Links: '+document.links.length),"Imgs?":()=>alert('Images: '+document.images.length),"Frames?":()=>alert('Iframes: '+document.querySelectorAll('iframe').length),"Reload 5s":()=>setInterval(()=>location.reload(),5000),"Stop Scroll":()=>window.onscroll=()=>window.scrollTo(0,0),"Invert":()=>document.body.style.filter=document.body.style.filter?'':'invert(1)',"Sepia":()=>document.body.style.filter=document.body.style.filter?'':'sepia(1)'};var m=document.createElement('div');m.id='bmMenu2';m.style='position:fixed;bottom:10px;left:10px;background:#222;color:#fff;z-index:999999;padding:4px;border-radius:4px;font-size:12px;max-width:160px;max-height:60%;overflow:auto;box-shadow:0 2px 6px rgba(0,0,0,.4);';for(let k in actions){let b=document.createElement('div');b.textContent=k;b.style='padding:2px 4px;cursor:pointer;border-bottom:1px solid #444';b.onclick=function(){actions[k]();m.remove()};m.appendChild(b);}let c=document.createElement('div');c.textContent='Close';c.style='padding:2px 4px;text-align:center;cursor:pointer;background:#900;border-radius:3px;margin-top:2px';c.onclick=()=>m.remove();m.appendChild(c);document.body.appendChild(m);};BMTools.pageEffects=function(){if(document.getElementById('bmMenu3'))document.getElementById('bmMenu3').remove();var actions={"Flash":()=>{document.body.style.animation='flash 1s infinite';document.body.style.setProperty('@keyframes flash','from{background:#fff}to{background:#000}')},"Rainbow":()=>document.body.style.background='linear-gradient(90deg,red,orange,yellow,green,blue,indigo,violet)',"BW":()=>document.body.style.filter=document.body.style.filter?'':'grayscale(1)',"Blur":()=>document.body.style.filter=document.body.style.filter?'':'blur(3px)',"Rotate":()=>document.body.style.transform=document.body.style.transform?'':'rotate(1deg)',"FlipH":()=>document.body.style.transform=document.body.style.transform?'':'scaleX(-1)',"FlipV":()=>document.body.style.transform=document.body.style.transform?'':'scaleY(-1)',"BigImgs":()=>document.querySelectorAll('img').forEach(i=>i.style.maxWidth='100%'),"HideImgs":()=>document.querySelectorAll('img').forEach(i=>i.style.display='none'),"HideVids":()=>document.querySelectorAll('video').forEach(v=>v.style.display='none'),"MuteVids":()=>document.querySelectorAll('video').forEach(v=>v.muted=true),"PauseVids":()=>document.querySelectorAll('video').forEach(v=>v.pause()),"PlayVids":()=>document.querySelectorAll('video').forEach(v=>v.play()),"ImgsSrc":()=>alert(Array.from(document.images).map(i=>i.src).join('\n')),"AllTxt":()=>alert(document.body.innerText.slice(0,2000)),"RndClr":()=>document.querySelectorAll('*').forEach(e=>e.style.color='#'+Math.floor(Math.random()*16777215).toString(16)),"RndBG":()=>document.querySelectorAll('*').forEach(e=>e.style.background='#'+Math.floor(Math.random()*16777215).toString(16)),"NoLinks":()=>document.querySelectorAll('a').forEach(a=>a.removeAttribute('href')),"BigCursor":()=>document.body.style.cursor='url(https://cur.cursors-4u.net/cursor.png),auto',"OutlineBlk":()=>document.querySelectorAll('*').forEach(e=>e.style.outline='1px solid black'),"ImgsBord":()=>document.querySelectorAll('img').forEach(i=>i.style.border='2px solid red'),"BlinkTxt":()=>document.querySelectorAll('*').forEach(e=>e.style.textDecoration='blink'),"WordWrap":()=>document.querySelectorAll('*').forEach(e=>e.style.wordBreak='break-all'),"ScrollRnd":()=>setInterval(()=>window.scrollBy(0,50),200),"Shake":()=>{document.body.style.animation='shake 0.2s infinite';document.body.style.setProperty('@keyframes shake','0%{transform:translate(1px,1px)}25%{transform:translate(-1px,-2px)}50%{transform:translate(-3px,0)}75%{transform:translate(3px,2px)}100%{transform:translate(1px,-1px)}')}};var m=document.createElement('div');m.id='bmMenu3';m.style='position:fixed;bottom:10px;right:10px;background:#111;color:#fff;z-index:999999;padding:4px;border-radius:4px;font-size:12px;max-width:160px;max-height:60%;overflow:auto;box-shadow:0 2px 6px rgba(0,0,0,.4)';for(let k in actions){let b=document.createElement('div');b.textContent=k;b.style='padding:2px 4px;cursor:pointer;border-bottom:1px solid #333';b.onclick=function(){actions[k]();m.remove()};m.appendChild(b);}let c=document.createElement('div');c.textContent='Close';c.style='padding:2px 4px;text-align:center;cursor:pointer;background:#900;border-radius:3px;margin-top:2px';c.onclick=()=>m.remove();m.appendChild(c);document.body.appendChild(m);};BMTools.currencyConv=function(){let s=window.getSelection(),t=s.toString().trim();if(!t){alert("Select a number");return}t=t.replace(",","."),num=parseFloat(t.replace(/[^\d.]/g,""));if(isNaN(num)){alert("Cannot parse number");return}let currency=null;/€/.test(t)?currency="EUR":/\$/.test(t)?currency="USD":/£/.test(t)?currency="GBP":/zł/.test(t)&&(currency="PLN");let unitMatch=t
